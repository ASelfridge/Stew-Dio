<!DOCTYPE html>

<html>
    <head>
        <title>Starting Environment</title>
         
        <script src="js/aframe-v0.8.2.min.js"></script>
		<script src="https://rawgit.com/Ctrl-Alt-Zen/aframe-mobile-controls/master/components/twoway-motion/twoway-motion.js"></script>
    	<script src="https://rawgit.com/Ctrl-Alt-Zen/aframe-mobile-controls/master/components/tilt-turn/tilt-turn.js"></script>
        <script src="https://rawgit.com/fernandojsg/aframe-teleport-controls/master/dist/aframe-teleport-controls.min.js"></script>
        <script>
            AFRAME.registerComponent('loadscripts', {
                init: function()
                {
                   // Add scripts to the 'scriptSrc' list below so they are loaded after the scene is created!
                    scriptSrc = ["js/deviceControls.js"]
                    var head= document.getElementsByTagName('head')[0];
                    for (var i = 0; i < scriptSrc.length; i++) {
                        newScript = document.createElement('script');
                        newScript.setAttribute('src', scriptSrc[i]);
                        head.appendChild(newScript);
                    };
                }

            });
        </script>
    </head>
    <body>
        <a-scene>
            
            <!-------------- TEXTURES ---------------->
            <a-assets>
                <img id="skymap" src="assets/textures/sunsetGradient.png" />

            </a-assets>


            <!---------------- MODELS ---------------->
            <a-assets>
                <a-asset-item id="carrot" src="assets/models/carrot.obj"></a-asset-item>
                <a-asset-item id="table" src="assets/models/table.obj"></a-asset-item>
                <a-asset-item id="knife" src="assets/models/knife.obj"></a-asset-item>
                <a-asset-item id="cuttingBoard" src="assets/models/cuttingBoard.obj"></a-asset-item>
                <a-asset-item id="customerService" src="assets/models/customerService.obj"></a-asset-item>
                <a-asset-item id="ingredientStation" src="assets/models/ingredientStation.obj"></a-asset-item>
                <a-asset-item id="ladle" src="assets/models/ladle.obj"></a-asset-item>
                <a-asset-item id="pot" src="assets/models/pot.obj"></a-asset-item>
                <a-asset-item id="recipeBook" src="assets/models/recipeBook.obj"></a-asset-item>
                <a-asset-item id="stove" src="assets/models/stove.obj"></a-asset-item>
                <a-asset-item id="character" src="assets/models/character.obj"></a-asset-item>
                <a-asset-item id="bowl" src="assets/models/bowl.obj"></a-asset-item>
            </a-assets>


            <!---------------- CAMERA ---------------->
            <a-entity id="cameraRig" position="0 1.5 5">
                <a-camera id="sceneCamera"></a-camera>
            </a-entity>

    
            <!---------------- LIGHTING ---------------->
            <a-light type="directional" color="#FFBE92" position="35 10 -0.69474" intensity="0.5" scale="" light="castShadow:true;shadowCameraFov:60;shadowCameraLeft:-14.07;shadowCameraNear:0;shadowMapHeight:2048;shadowMapWidth:2048"></a-light>            
            <a-light type="ambient" color="white" position="35 5 0" intensity="0.4"></a-light>


            <!---------------- A-FRAME ENTITIES ---------------->
            
            <!-- CUSTOMER SERVICE -->
            <a-entity obj-model="obj:#customerService" position="-0.00961 0 -0.85382" rotation="" scale="" shadow="">
            </a-entity>

            <a-entity obj-model="obj:#character" position="-0.00961 -0.01024 -2.69885" rotation="0 -82.328305582348 0" scale="" shadow="">
            </a-entity>



            <!-- INGREDIENT STATION-->
            <a-entity obj-model="obj:#ingredientStation" position="-3.828 0 11.265" rotation="0 324 0" scale="" shadow="">
            </a-entity>

            <!-- PREPERATION STATION-->
            <a-entity rotation="0 -232.21 0" position="3.27091 0 10.51185"> 

                    <a-entity obj-model="obj:#table" position="-1 -0.1 0" rotation="0 90 0" scale="" shadow="">
                    </a-entity>
                    
                    <!-- CUTTING BOARD AREA -->
                    <a-entity rotation="0 90 0" position="-1.13659 0.39414 -0.46369"> 
    
                        <a-entity obj-model="obj:#cuttingBoard" position="-0.55 1.414 0.3" rotation="" scale="0.7 0.7 0.7" shadow="">
                        </a-entity>
        
                        <a-entity obj-model="obj:#knife" position="-0.198 1.481 0.2" rotation="-3.2 19.9 90" scale="1.5 1.5 1.5" shadow="">
                        </a-entity>
        
                        <a-entity obj-model="obj:#carrot" position="-0.93936 1.39013 0.28187" rotation="0 -112.6 0" scale="0.3 0.3 0.3" shadow="">
                        </a-entity>
        
                    </a-entity>
                        
                </a-entity>

            <!-- COOKING AREA -->
            <a-entity rotation="0 107.58 0" position="6.08818 0 4.25484"> 

                    <a-entity obj-model="obj:#table" position="" rotation="" scale="" shadow="">
                    </a-entity>
    
                    <a-entity obj-model="obj:#stove" position="0.04297 -0.34832 -0.16904" rotation="0 180 0" scale="0.8 0.8 0.8" shadow="">
                    </a-entity>
    
            </a-entity>

            <!-- RECIPIE AREA -->
            <a-entity rotation="0 72 0" position="-6.58179 0 4.18675"> 

                    <a-entity obj-model="obj:#table" position="" rotation="" scale="" shadow="">
                    </a-entity>
    
                    <a-entity obj-model="obj:#recipeBook" position="-0.07552 1.82164 0.12949" rotation="" scale="0.8 0.8 0.8" shadow="">
                    </a-entity>
    
            </a-entity>

            <!-- STEW AREA -->
            <a-entity rotation="0 -30 0" position="0 0 6">

                <a-entity obj-model="obj:#table" position="0.66201 0 -0.81071" rotation="0 -55.75395008638529 0" scale="0.41442 0.81438 0.5" shadow="">
                </a-entity>

                <a-entity obj-model="obj:#pot" position="-0.77368 -0.1 0.25715" rotation="0 90 0" scale="0.8 0.8 0.8" shadow="">
                </a-entity>
    
                <a-entity obj-model="obj:#ladle" position="-1.09022 1.11093 -0.09321" rotation="-21.120943201907536 7.320681748386528 0" scale="" shadow="">
                </a-entity>

                <a-entity obj-model="obj:#bowl" position="0.35389 1.53698 -1.20558" rotation="" scale="0.3 0.3 0.3" shadow="">
                </a-entity>
    
            </a-entity>


            
            <!-- GROUND & SKY -->
            <a-plane position="0 0 5" width="30" height="30" rotation="-90 0 0" color="#a5a5a5" shadow></a-plane>
            
            <a-sky color="#ECECEC"></a-sky>
            <a-entity   id="sky"
                        geometry="primitive: sphere; radius: 1000"
                        material="shader: flat; src: #skymap; side: back"
                        loadscripts>
            </a-entity>

        </a-scene>
    </body>
</html>
